(()=>{"use strict";const t="ekjpkvFUGdF6j29WMEc0QAcNjNKkJbHz",e=t=>{t.classList.contains("d-none")||t.classList.add("d-none")},a=document.querySelector(".change-location"),s=document.querySelector(".card"),c=document.querySelector(".details"),n=document.querySelector(".icon img"),r=document.querySelector(".time");a.addEventListener("submit",(o=>{o.preventDefault(),(async e=>{const a={},s=`?apikey=${t}&q=${e}`,c=await fetch("http://dataservice.accuweather.com/locations/v1/cities/search"+s);if(200!==c.status)throw new Error("Cannot fetch the city data. Status "+c.status);const n=await c.json();if(a.cityData=n[0],void 0===n||0==n.length)return console.log("no such city"),null;const r=`${n[0].Key}?apikey=${t}`,o=await fetch("http://dataservice.accuweather.com/currentconditions/v1/"+r);if(200!==o.status)throw new Error("Cannot fetch the weather data. Status "+o.status);const i=await o.json();return a.weatherData=i[0],a})(o.target.city.value.trim()).then((t=>{var o;t?(a.reset(),(o=s).classList.contains("d-none")&&o.classList.remove("d-none"),((t,e)=>{const a=t.cityData,s=t.weatherData;e.children[0].textContent=a.EnglishName,e.children[1].textContent=s.WeatherText,e.children[2].children[0].textContent=s.Temperature.Metric.Value})(t,c),((t,e)=>{e.setAttribute("src",`assets/img/icons/${t.weatherData.WeatherIcon}.svg`)})(t,n),((t,e)=>{t.weatherData.IsDayTime?e.setAttribute("src","assets/img/day.svg"):e.setAttribute("src","assets/img/night.svg")})(t,r)):e(s)})).catch((t=>{e(s),console.log(t)}))}))})();